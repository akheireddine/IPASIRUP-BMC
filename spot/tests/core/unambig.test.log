+ . ./defs
+ test -f ./defs
+ test -z .
+ test -f ./../core/defs.in
+ echo == Running test unambig.test
== Running test unambig.test
+ echo unambig.test
+ sed -e s,.*[\/],,;s/\.test$//
+ me=unambig
+ testSubDir=unambig.dir
+ chmod -R a+rwx unambig.dir
+ rm -rf unambig.dir
+ mkdir unambig.dir
+ cd unambig.dir
+ srcdir=../.
+ AWK=gawk
+ DOT=dot
+ LBTT=
+ LBTT_TRANSLATE=
+ VALGRIND=valgrind
+ SPIN=
+ LTL2BA=
+ PYTHON=
+ top_srcdir=/home/nissa/Documents/WORKS/cadical-user-propagation/spot
+ unset SPOT_DOTEXTRA
+ unset SPOT_DOTDEFAULT
+ set -x
+ set -e
+ ltl2tgba -UH Ga
+ autfilt -q --is-unambiguous
+ ltl2tgba -UH !(Ga)
+ autfilt -q --is-unambiguous
+ ltl2tgba -BUH Ga
+ autfilt -q --is-unambiguous
+ + ltl2tgba -BUH !(Ga)autfilt
 -q --is-unambiguous
+ ltl2tgba+  -UH Ga
autfilt --check
+ grep -E properties:.* (unambiguous|deterministic)
properties: trans-labels explicit-labels state-acc deterministic
+ ltl2tgba -UH !(Ga)
+ autfilt --check
+ grep -E properties:.* (unambiguous|deterministic)
properties: deterministic stutter-invariant terminal very-weak
+ ltl2tgba -UH Ga | Gb
+ autfilt -q --is-unambiguous
+ + ltl2tgba -UH !(Ga | Gb)
autfilt -q --is-unambiguous
+ ltl2tgba -BUH Ga | Gb
+ autfilt -q --is-unambiguous
+ ltl2tgba -BUH !(Ga | Gb)
+ autfilt -q --is-unambiguous
+ + ltl2tgba -UH Ga | Gb
autfilt --check
+ grep -E properties:.* (unambiguous|deterministic)
properties: trans-labels explicit-labels state-acc deterministic
+ + ltl2tgba -UH !(Ga | Gb)
autfilt --check
+ grep -E properties:.* (unambiguous|deterministic)
properties: deterministic stutter-invariant terminal very-weak
+ ltl2tgba -UH Ga | GFb
+ autfilt -q --is-unambiguous
+ + ltl2tgba -UHautfilt !(Ga | GFb) -q
 --is-unambiguous
+ + autfilt -qltl2tgba --is-unambiguous -BUH
 Ga | GFb
+ ltl2tgba+  -BUH !(Ga | GFb)
autfilt -q --is-unambiguous
+ + ltl2tgba -UH Ga | GFb
autfilt --check
+ grep -E properties:.* (unambiguous|deterministic)
properties: trans-labels explicit-labels trans-acc unambiguous
+ autfilt --check
+ grep -E properties:.* (unambiguous|deterministic)
+ ltl2tgba -UH !(Ga | GFb)
properties: trans-labels explicit-labels state-acc unambiguous
+ + ltl2tgba -UH Ga | FGb
autfilt -q --is-unambiguous
+ + ltl2tgba -UH !(Ga | FGb)
autfilt -q --is-unambiguous
+ ltl2tgba -BUH Ga | FGb
+ autfilt -q --is-unambiguous
+ + ltl2tgba -BUHautfilt !(Ga | FGb) -q
 --is-unambiguous
+ ltl2tgba -UH Ga | FGb+ 
autfilt --check
+ grep -E properties:.* (unambiguous|deterministic)
properties: trans-labels explicit-labels state-acc unambiguous
+ ltl2tgba -UH !(Ga | FGb)
+ autfilt --check
+ grep -E properties:.* (unambiguous|deterministic)
properties: deterministic stutter-invariant
+ ltl2tgba -UH F(Ga | Gb)
+ autfilt -q --is-unambiguous
+ + ltl2tgba -UH !(F(Ga | Gb))
autfilt -q --is-unambiguous
+ + ltl2tgba -BUH F(Ga | Gb)autfilt
 -q --is-unambiguous
+ + ltl2tgbaautfilt -BUH -q !(F(Ga | Gb)) --is-unambiguous

+ ltl2tgba+  -UH F(Ga | Gb)
autfilt --check
+ grep -E properties:.* (unambiguous|deterministic)
properties: trans-labels explicit-labels state-acc unambiguous
+ ltl2tgba -UH !(F(Ga | Gb))+ 
autfilt --check
+ grep -E properties:.* (unambiguous|deterministic)
properties: deterministic stutter-invariant
+ ltl2tgba+  -UH XFGa | GFb | Gc
autfilt -q --is-unambiguous
+ ltl2tgba -UH !(XFGa | GFb | Gc)+ 
autfilt -q --is-unambiguous
+ ltl2tgba -BUH XFGa | GFb | Gc
+ autfilt -q --is-unambiguous
+ ltl2tgba -BUH !(XFGa | GFb | Gc)+ 
autfilt -q --is-unambiguous
+ ltl2tgba -UH XFGa | GFb | Gc
+ + autfilt --check
grep -E properties:.* (unambiguous|deterministic)
properties: trans-labels explicit-labels trans-acc unambiguous
+ ltl2tgba -UH !(XFGa | GFb | Gc)
+ + autfilt --check
grep -E properties:.* (unambiguous|deterministic)
properties: trans-labels explicit-labels trans-acc unambiguous
+ + ltl2tgba -UH (Ga -> Gb) W c
autfilt -q --is-unambiguous
+ ltl2tgba -UH !((Ga -> Gb) W c)
+ autfilt -q --is-unambiguous
+ + ltl2tgba -BUH (Ga -> Gb) W c
autfilt -q --is-unambiguous
+ ltl2tgba -BUH !((Ga -> Gb) W c)
+ autfilt -q --is-unambiguous
+ ltl2tgba+  -UH (Ga -> Gb) W c
autfilt --check
+ grep -E properties:.* (unambiguous|deterministic)
properties: trans-labels explicit-labels trans-acc unambiguous
+ ltl2tgba -UH !((Ga -> Gb) W c)
+ autfilt --check
+ grep -E properties:.* (unambiguous|deterministic)
properties: trans-labels explicit-labels state-acc unambiguous
+ + ltl2tgba -UH F(a & !b & (!c W b))autfilt
 -q --is-unambiguous
+ ltl2tgba -UH+  !(F(a & !b & (!c W b)))
autfilt -q --is-unambiguous
+ ltl2tgba -BUH F(a & !b & (!c W b))
+ autfilt -q --is-unambiguous
+ ltl2tgba -BUH !(F(a & !b & (!c W b)))
+ autfilt -q --is-unambiguous
+ ltl2tgba -UH F(a & !b & (!c W b))
+ autfilt --check
+ grep -E properties:.* (unambiguous|deterministic)
properties: trans-labels explicit-labels state-acc unambiguous
+ ltl2tgba -UH !(F(a & !b & (!c W b)))+ 
autfilt --check
+ grep -E properties:.* (unambiguous|deterministic)
properties: trans-labels explicit-labels trans-acc deterministic
+ ltl2tgba -UH G({{1;1}*}<>->a)+ 
autfilt -q --is-unambiguous
+ + ltl2tgba -UH !(G({{1;1}*}<>->a))
autfilt -q --is-unambiguous
+ ltl2tgba -BUH+  G({{1;1}*}<>->a)
autfilt -q --is-unambiguous
+ + ltl2tgba -BUH !(G({{1;1}*}<>->a))
autfilt -q --is-unambiguous
+ + ltl2tgba -UHautfilt G({{1;1}*}<>->a) --check

+ grep -E properties:.* (unambiguous|deterministic)
properties: deterministic stutter-sensitive
+ ltl2tgba -UH !(G({{1;1}*}<>->a))
+ autfilt --check
+ grep -E properties:.* (unambiguous|deterministic)
properties: trans-labels explicit-labels state-acc unambiguous
+ ltl2tgba+  -H FGa
autfilt -qv --is-unambiguous
+ ltl2tgba -UH FGa
+ autfilt -q --is-unambiguous
+ ltl2tgba -H+  {[*1..4]}<>-> (p1 & (p1 U p0))
autfilt -qv --is-unambiguous
+ ltl2tgba -UH {[*1..4]}<>-> (p1 & (p1 U p0))+ 
autfilt -q --is-unambiguous
+ cat
+ run 1 autfilt -q --is-unambiguous input
+ expected_exitcode=1
+ shift
+ exitcode=0
+ test -n valgrind
+ command -v autfilt
+ cmd=/home/nissa/Documents/WORKS/cadical-user-propagation/spot/bin/autfilt
+ shift
+ test -n /home/nissa/Documents/WORKS/cadical-user-propagation/spot/bin/autfilt
+ set /home/nissa/Documents/WORKS/cadical-user-propagation/spot/bin/autfilt -q --is-unambiguous input
+ exec
+ GLIBCXX_FORCE_NEW=1 /home/nissa/Documents/WORKS/cadical-user-propagation/spot/libtool --mode=execute valgrind --tool=memcheck --leak-check=yes --log-fd=6 -q /home/nissa/Documents/WORKS/cadical-user-propagation/spot/bin/autfilt -q --is-unambiguous input
+ exitcode=1
+ cat valgrind.err
+ sed 1q valgrind.err
+ test -z 
+ rm -f valgrind.err
+ test 1 = 1
+ run 0 autfilt --check input
+ expected_exitcode=0
+ shift
+ exitcode=0
+ test -n valgrind
+ command -v autfilt
+ cmd=/home/nissa/Documents/WORKS/cadical-user-propagation/spot/bin/autfilt
+ shift
+ test -n /home/nissa/Documents/WORKS/cadical-user-propagation/spot/bin/autfilt
+ set /home/nissa/Documents/WORKS/cadical-user-propagation/spot/bin/autfilt --check input
+ exec
+ GLIBCXX_FORCE_NEW=1 /home/nissa/Documents/WORKS/cadical-user-propagation/spot/libtool --mode=execute valgrind --tool=memcheck --leak-check=yes --log-fd=6 -q /home/nissa/Documents/WORKS/cadical-user-propagation/spot/bin/autfilt --check input
+ cat valgrind.err
+ sed 1q valgrind.err
+ test -z 
+ rm -f valgrind.err
+ test 0 = 0
+ grep -c unambiguous output
+ test 0 = 0
+ randltl --seed=12 --psl -n 1000 3
+ + ltl2tgba -U -H
autfilt -v --is-unamb --stats=%M
+ cat
+ ltl2tgba --lbt-input -B+  -U -x wdba-minimize=0 U p0 & p1 X ! p0
grep properties:.*unambiguous
properties: trans-labels explicit-labels state-acc unambiguous
+ run 0 autfilt -H --is-unambiguous input
+ expected_exitcode=0
+ shift
+ exitcode=0
+ test -n valgrind
+ command -v autfilt
+ cmd=/home/nissa/Documents/WORKS/cadical-user-propagation/spot/bin/autfilt
+ shift
+ test -n /home/nissa/Documents/WORKS/cadical-user-propagation/spot/bin/autfilt
+ set /home/nissa/Documents/WORKS/cadical-user-propagation/spot/bin/autfilt -H --is-unambiguous input
+ exec
+ GLIBCXX_FORCE_NEW=1 /home/nissa/Documents/WORKS/cadical-user-propagation/spot/libtool --mode=execute valgrind --tool=memcheck --leak-check=yes --log-fd=6 -q /home/nissa/Documents/WORKS/cadical-user-propagation/spot/bin/autfilt -H --is-unambiguous input
+ cat valgrind.err
+ sed 1q valgrind.err
+ test -z 
+ rm -f valgrind.err
+ test 0 = 0
+ cat
+ diff output expected
+ ltlcross --ambiguous --automata ltl2tgba -U ltl2tgba -fFGa -fGFa --csv=out
F(G(a))
Running [P0]: ltl2tgba -U -H 'F(G(a))'>'lcr-o0-Bkbmeh'
Running [P1]: ltl2tgba -H 'F(G(a))'>'lcr-o1-Nmckvg'
Running [N0]: ltl2tgba -U -H '!(F(G(a)))'>'lcr-o0-VpyNGc'
Running [N1]: ltl2tgba -H '!(F(G(a)))'>'lcr-o1-Olq1ow'
Performing sanity checks and gathering statistics...

G(F(a))
Running [P0]: ltl2tgba -U -H 'G(F(a))'>'lcr-o0-Bk4h6d'
Running [P1]: ltl2tgba -H 'G(F(a))'>'lcr-o1-ZKVGMS'
Running [N0]: ltl2tgba -U -H '!(G(F(a)))'>'lcr-o0-v4KbYZ'
Running [N1]: ltl2tgba -H '!(G(F(a)))'>'lcr-o1-fwccOX'
Performing sanity checks and gathering statistics...

No problem detected.
+ cut -d, -f13 out
+ cat
+ diff expected ltlcross.res
+ cat
+ run 1 autfilt -q --is-unambiguous smaller.hoa
+ expected_exitcode=1
+ shift
+ exitcode=0
+ test -n valgrind
+ command -v autfilt
+ cmd=/home/nissa/Documents/WORKS/cadical-user-propagation/spot/bin/autfilt
+ shift
+ test -n /home/nissa/Documents/WORKS/cadical-user-propagation/spot/bin/autfilt
+ set /home/nissa/Documents/WORKS/cadical-user-propagation/spot/bin/autfilt -q --is-unambiguous smaller.hoa
+ exec
+ GLIBCXX_FORCE_NEW=1 /home/nissa/Documents/WORKS/cadical-user-propagation/spot/libtool --mode=execute valgrind --tool=memcheck --leak-check=yes --log-fd=6 -q /home/nissa/Documents/WORKS/cadical-user-propagation/spot/bin/autfilt -q --is-unambiguous smaller.hoa
+ exitcode=1
+ cat valgrind.err
+ sed 1q valgrind.err
+ test -z 
+ rm -f valgrind.err
+ test 1 = 1
+ cat
+ autfilt -c --is-unambiguous sjdb.hoa
+ test 3 = 3
+ cat
+ autfilt -c --is-unambiguous ambig.hoa
+ test 0 = 0
PASS core/unambig.test (exit status: 0)
